@model IEnumerable<C_R_M.Models.Recordatorio>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Recordatorios</h2>

<p>
    <a href="@Url.Action("Create")" class="btn btn-success"><i class="fa fa-plus-circle"></i> Crear Nuevo</a>
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Abreviatura)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Tipo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Fecha)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Hora)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Detalle)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Empresa.Nombre)
        </th>
        <th>
            @Html.DisplayName("Mensaje")
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Abreviatura)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Tipo)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Fecha)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Hora)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Detalle)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Empresa.Nombre)
        </td>
        <td>
            @{
                int i = item.Mensaje.Length - 1;
                string m = item.Mensaje.Replace("\r\n", " ").Replace("\n", " ").Replace("\r", " ").Substring(0, (item.Mensaje.Replace("\r\n", " ").Replace("\n", " ").Replace("\r", " ").Length > 27) ? 25 : item.Mensaje.Replace("\r\n", " ").Replace("\n", " ").Replace("\r", " ").Length - 1);
            }
            @m
        </td>
        <td>
            <a class="btn btn-success ml-1" href="@Url.Action("Edit")/@item.Id_Recordatorio"><i class="fa fa-edit  fa-lg"></i></a>
            <a class="btn btn-info ml-1" href="@Url.Action("Details")/@item.Id_Recordatorio"><i class="fa fa-info-circle"></i></a>
            <a class="btn btn-danger ml-1" href="@Url.Action("Delete")/@item.Id_Recordatorio"><i class="fa fa-trash fa-lg"></i></a>
            @*@Html.ActionLink("Editar", "Edit", new { id = item.Id_Recordatorio }) |
            @Html.ActionLink("Detalles", "Details", new { id = item.Id_Recordatorio }) |
            @Html.ActionLink("Borrar", "Delete", new { id = item.Id_Recordatorio })*@
        </td>
    </tr>
}

</table>
